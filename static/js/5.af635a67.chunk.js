(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[5],{36:function(e,t,n){"use strict";n.d(t,"e",(function(){return i})),n.d(t,"d",(function(){return u})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return m}));var r=n(43),a=n.n(r),c="https://api.themoviedb.org/3",o="5375f5b660bc351c07bd65a13cdbbf31",i=function(){return a.a.get("".concat(c,"/trending/movie/day?api_key=").concat(o))},u=function(e){return a.a.get("".concat(c,"/search/movie?api_key=").concat(o,"&query=").concat(e))},s=function(e){return a.a.get("".concat(c,"/movie/").concat(e,"?api_key=").concat(o))},l=function(e){return a.a.get("".concat(c,"/movie/").concat(e,"/credits?api_key=").concat(o))},m=function(e){return a.a.get("".concat(c,"/movie/").concat(e,"/reviews?api_key=").concat(o))}},37:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return c})),n.d(t,"d",(function(){return o}));var r=function(e){return e.map((function(e){var t=e.id;return{id:t,title:e.title,link:"/movies/".concat(t)}}))},a=function(e){var t=e.title,n=e.poster_path,r=e.release_date,a=e.popularity,c=e.overview,o=e.genres;return{title:t,posterPath:"https://image.tmdb.org/t/p/w500".concat(n),releaseYear:parseInt(r),popularity:Math.round(a),overview:c,genres:o}},c=function(e){return e.map((function(e){var t=e.id,n=e.name,r=e.profile_path,a=e.character;return{id:String(t),name:n,profilePath:r?"https://image.tmdb.org/t/p/w500".concat(r):null,character:a}}))},o=function(e){return e.map((function(e){var t=e.author,n=e.content,r=e.id;return{author:t,content:n,id:String(r)}}))}},38:function(e,t,n){"use strict";var r=n(0),a=n.n(r),c=n(40),o=n.n(c),i=function(e){var t=e.errorMessage;return a.a.createElement("h3",{className:o.a.ErrorComponentTitle},"Whoops, something went wrong: ",t)},u=n(41),s=n.n(u),l=function(e){var t=e.title,n=e.errorMessage,r=e.children;return n?a.a.createElement("section",null,t&&a.a.createElement("h2",{className:s.a.DataSectionTitle},t),a.a.createElement(i,{errorMessage:n})):a.a.createElement("section",null,t&&a.a.createElement("h2",{className:s.a.DataSectionTitle},t),r)};l.defaultProps={title:"",errorMessage:""};t.a=l},39:function(e,t,n){e.exports={LinksGallery:"LinksGallery_LinksGallery__3PSc5"}},40:function(e,t,n){e.exports={ErrorComponentTitle:"ErrorComponent_ErrorComponentTitle__OcNSV"}},41:function(e,t,n){e.exports={DataSectionTitle:"DataSection_DataSectionTitle__2V8yI"}},42:function(e,t,n){"use strict";var r=n(0),a=n.n(r),c=n(9),o=function(e){var t=e.option;return a.a.createElement(c.b,{to:t.link},t.title)},i=n(39),u=n.n(i);t.a=function(e){var t=e.moviesArr;return a.a.createElement("ul",{className:u.a.LinksGallery},t.map((function(e){var t=e.title,n=e.id,r=e.link;return a.a.createElement("li",{key:n},a.a.createElement(o,{option:{title:t,link:r}}))})))}},71:function(e,t,n){e.exports={searchForm:"SearchBar_searchForm__GQd3C"}},78:function(e,t,n){"use strict";n.r(t);var r=n(14),a=n(15),c=n(17),o=n(16),i=n(0),u=n.n(i),s=n(71),l=n.n(s),m=function(e){var t=e.handleInput,n=e.handleSubmit,r=e.searchValue;return u.a.createElement("form",{onSubmit:n,className:l.a.searchForm},u.a.createElement("input",{type:"search",value:r,onChange:t,required:!0}),u.a.createElement("button",{type:"submit"},"Search"))},h=n(42),f=n(38),p=n(36),d=n(37),v=function(e){Object(c.a)(n,e);var t=Object(o.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,c=new Array(a),o=0;o<a;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).state={searchValue:"",moviesFound:[],errorMessage:""},e.handleInput=function(t){var n=t.target.value;e.setState({searchValue:n})},e.handleSubmit=function(t){t.preventDefault();var n=e.state.searchValue;Object(p.d)(n).then((function(t){var r=t.data.results;r.length>0?e.setState({moviesFound:Object(d.c)(r),errorMessage:""}):e.setState({errorMessage:"Movies with the title ".concat(n," were not found!")})})).catch((function(t){e.setState({errorMessage:t.message})})).finally(e.setState({searchValue:""}))},e}return Object(a.a)(n,[{key:"render",value:function(){var e=this.state,t=e.searchValue,n=e.moviesFound,r=e.errorMessage;return u.a.createElement(u.a.Fragment,null,u.a.createElement(m,{handleInput:this.handleInput,handleSubmit:this.handleSubmit,searchValue:t}),u.a.createElement(f.a,{errorMessage:r},u.a.createElement(h.a,{moviesArr:n})))}}]),n}(i.Component);t.default=v}}]);
//# sourceMappingURL=5.af635a67.chunk.js.map